{
  "api_info": {
    "title": "Laravel API with Sanctum - Faculty Management",
    "base_url": "http://103.150.91.248:9001/api",
    "authentication": "Sanctum Bearer Token",
    "content_type": "application/json"
  },
  "endpoints": [
    {
      "name": "List Faculties",
      "method": "GET",
      "url": "/fakultas",
      "description": "Returns paginated list of faculties with their prodis (Admin only)",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "query_params": {
        "search": {
          "type": "string",
          "required": false,
          "description": "Search by faculty name"
        },
        "per_page": {
          "type": "integer",
          "required": false,
          "description": "Items per page",
          "default": 15
        }
      },
      "responses": [
        {
          "status": 200,
          "description": "OK - Success",
          "headers": {
            "Content-Type": "application/json"
          },
          "body": {
            "success": true,
            "data": [
              {
                "id": 1,
                "name": "Fakultas Teknik",
                "prodis_count": 5,
                "prodis": [
                  {
                    "id": 1,
                    "name": "Teknik Informatika",
                    "code": "TI",
                    "strata": "S1"
                  },
                  {
                    "id": 2,
                    "name": "Teknik Sipil",
                    "code": "TS",
                    "strata": "S1"
                  }
                ]
              }
            ],
            "meta": {
              "current_page": 1,
              "per_page": 15,
              "total": 10,
              "last_page": 1
            }
          }
        },
        {
          "status": 401,
          "description": "Unauthorized - Unauthenticated",
          "body": {
            "success": false,
            "message": "Unauthenticated"
          }
        },
        {
          "status": 403,
          "description": "Forbidden",
          "body": {
            "success": false,
            "message": "Unauthorized access"
          }
        }
      ]
    },
    {
      "name": "Create Faculty",
      "method": "POST",
      "url": "/fakultas",
      "description": "Create a new faculty (Admin only)",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "request_body": {
        "name": {
          "type": "string",
          "required": true,
          "description": "Faculty name"
        }
      },
      "request_example": {
        "name": "Fakultas Teknik"
      },
      "responses": [
        {
          "status": 201,
          "description": "Created - Faculty created successfully",
          "body": {
            "success": true,
            "message": "Faculty created successfully",
            "data": {
              "id": 1,
              "name": "Fakultas Teknik"
            }
          }
        },
        {
          "status": 401,
          "description": "Unauthorized - Unauthenticated",
          "body": {
            "success": false,
            "message": "Unauthenticated"
          }
        },
        {
          "status": 403,
          "description": "Forbidden",
          "body": {
            "success": false,
            "message": "Unauthorized access"
          }
        },
        {
          "status": 422,
          "description": "Unprocessable Entity - Validation error",
          "body": {
            "success": false,
            "message": "Validation failed",
            "errors": {
              "name": ["The name field is required."]
            }
          }
        }
      ]
    },
    {
      "name": "Get All Faculties",
      "method": "GET",
      "url": "/fakultas/all",
      "description": "Returns all faculties without pagination (for dropdowns)",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "responses": [
        {
          "status": 200,
          "description": "OK - Success",
          "body": {
            "success": true,
            "data": [
              {
                "id": 1,
                "name": "Fakultas Teknik"
              },
              {
                "id": 2,
                "name": "Fakultas Ekonomi"
              },
              {
                "id": 3,
                "name": "Fakultas Hukum"
              }
            ]
          }
        },
        {
          "status": 401,
          "description": "Unauthorized - Unauthenticated",
          "body": {
            "success": false,
            "message": "Unauthenticated"
          }
        }
      ]
    },
    {
      "name": "Get Faculty Details",
      "method": "GET",
      "url": "/fakultas/{id}",
      "description": "Returns detailed information about a specific faculty with its prodis (Admin only)",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "path_params": {
        "id": {
          "type": "integer",
          "required": true,
          "description": "Faculty ID"
        }
      },
      "responses": [
        {
          "status": 200,
          "description": "OK - Success",
          "body": {
            "success": true,
            "data": {
              "id": 1,
              "name": "Fakultas Teknik",
              "prodis_count": 5,
              "prodis": [
                {
                  "id": 1,
                  "name": "Teknik Informatika",
                  "code": "TI",
                  "strata": "S1"
                },
                {
                  "id": 2,
                  "name": "Teknik Sipil",
                  "code": "TS",
                  "strata": "S1"
                }
              ],
              "created_at": "2023-01-01T00:00:00.000000Z",
              "updated_at": "2023-01-01T00:00:00.000000Z"
            }
          }
        },
        {
          "status": 401,
          "description": "Unauthorized - Unauthenticated",
          "body": {
            "success": false,
            "message": "Unauthenticated"
          }
        },
        {
          "status": 403,
          "description": "Forbidden",
          "body": {
            "success": false,
            "message": "Unauthorized access"
          }
        },
        {
          "status": 404,
          "description": "Not Found - Faculty not found",
          "body": {
            "success": false,
            "message": "Faculty not found"
          }
        }
      ]
    },
    {
      "name": "Update Faculty",
      "method": "PUT",
      "url": "/fakultas/{id}",
      "description": "Update faculty information including bulk prodi assignment (Admin only)",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "path_params": {
        "id": {
          "type": "integer",
          "required": true,
          "description": "Faculty ID"
        }
      },
      "request_body": {
        "name": {
          "type": "string",
          "required": false,
          "description": "Faculty name"
        },
        "prodi_ids": {
          "type": "array",
          "required": false,
          "description": "Array of prodi IDs to assign to this faculty",
          "items": {
            "type": "integer"
          }
        }
      },
      "request_example": {
        "name": "Fakultas Teknik",
        "prodi_ids": [1, 2, 3]
      },
      "responses": [
        {
          "status": 200,
          "description": "OK - Faculty updated successfully",
          "body": {
            "success": true,
            "message": "Faculty updated successfully",
            "data": {
              "id": 1,
              "name": "Fakultas Teknik",
              "prodis_count": 3
            }
          }
        },
        {
          "status": 401,
          "description": "Unauthorized - Unauthenticated",
          "body": {
            "success": false,
            "message": "Unauthenticated"
          }
        },
        {
          "status": 403,
          "description": "Forbidden",
          "body": {
            "success": false,
            "message": "Unauthorized access"
          }
        },
        {
          "status": 404,
          "description": "Not Found - Faculty not found",
          "body": {
            "success": false,
            "message": "Faculty not found"
          }
        },
        {
          "status": 422,
          "description": "Unprocessable Entity - Validation error",
          "body": {
            "success": false,
            "message": "Validation failed",
            "errors": {
              "name": ["The name field is required."]
            }
          }
        }
      ]
    },
    {
      "name": "Delete Faculty",
      "method": "DELETE",
      "url": "/fakultas/{id}",
      "description": "Soft delete a faculty from the system (Admin only)",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "path_params": {
        "id": {
          "type": "integer",
          "required": true,
          "description": "Faculty ID"
        }
      },
      "responses": [
        {
          "status": 200,
          "description": "OK - Faculty deleted successfully",
          "body": {
            "success": true,
            "message": "Faculty deleted successfully"
          }
        },
        {
          "status": 401,
          "description": "Unauthorized - Unauthenticated",
          "body": {
            "success": false,
            "message": "Unauthenticated"
          }
        },
        {
          "status": 403,
          "description": "Forbidden",
          "body": {
            "success": false,
            "message": "Unauthorized access"
          }
        },
        {
          "status": 404,
          "description": "Not Found - Faculty not found",
          "body": {
            "success": false,
            "message": "Faculty not found"
          }
        }
      ]
    }
  ],
  "models": {
    "Faculty": {
      "id": "integer - Unique identifier",
      "name": "string - Faculty name",
      "prodis_count": "integer - Number of study programs in this faculty",
      "prodis": "array - Array of prodi objects (included in response)",
      "created_at": "datetime - Creation timestamp",
      "updated_at": "datetime - Last update timestamp"
    }
  },
  "authentication_method": {
    "type": "Sanctum Tokens",
    "description": "Tokens are generated via /auth/login and must be included in Authorization header",
    "header_format": "Authorization: Bearer <token>",
    "token_endpoint": "/auth/login",
    "protected_endpoints": ["/fakultas/*"],
    "token_type": "Stateless",
    "revocation": "Tokens are revoked on logout",
    "access_level": "Admin only"
  },
  "general_notes": {
    "base_url": "http://103.150.91.248:9001/api",
    "content_type": "application/json",
    "access_level": "All faculty endpoints are Admin only",
    "special_endpoints": {
      "/fakultas/all": "For dropdowns - no pagination, returns simplified data",
      "/fakultas/{id}": "Includes prodis array with faculty details"
    },
    "bulk_operations": {
      "assign_prodis": "PUT /fakultas/{id} with prodi_ids array assigns multiple prodis to faculty at once",
      "note": "Prodi assignment is done through bulk update, not individual endpoints"
    },
    "soft_delete": "Faculties are soft deleted and can be restored",
    "error_handling": {
      "response_format": {
        "success": "boolean",
        "message": "human-readable message",
        "data": "response data (if applicable)",
        "meta": "pagination metadata",
        "errors": "validation details (if applicable)"
      }
    }
  }
}
