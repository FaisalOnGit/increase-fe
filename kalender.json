{
  "api_info": {
    "title": "Laravel API with Sanctum - PKM Kalender Management",
    "base_url": "http://103.150.91.248:9001/api",
    "authentication": "Sanctum Bearer Token",
    "content_type": "application/json"
  },
  "endpoints": [
    {
      "name": "List PKM Kalender",
      "method": "GET",
      "url": "/pkm-kalender",
      "description": "Returns paginated list of PKM kalender (Admin only)",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "query_params": {
        "tahun": {
          "type": "integer",
          "required": false,
          "description": "Filter by year"
        },
        "is_active": {
          "type": "boolean",
          "required": false,
          "description": "Filter by active status"
        },
        "per_page": {
          "type": "integer",
          "required": false,
          "description": "Items per page",
          "default": 15
        }
      },
      "responses": [
        {
          "status": 200,
          "description": "Success",
          "body": {
            "success": true,
            "data": [
              {
                "id": 1,
                "tahun": 2026,
                "tanggal_mulai_pengajuan": "2026-03-01",
                "tanggal_selesai_pengajuan": "2026-04-30",
                "tanggal_mulai_penilaian": "2026-05-01",
                "tanggal_selesai_penilaian": "2026-06-15",
                "tanggal_pengumuman": "2026-06-30",
                "is_active": true,
                "created_at": "2026-02-07T10:30:00+00:00",
                "updated_at": "2026-02-07T10:30:00+00:00"
              }
            ],
            "meta": {}
          }
        },
        {
          "status": 401,
          "description": "Unauthenticated",
          "body": {
            "success": false,
            "message": "Unauthenticated"
          }
        }
      ]
    },
    {
      "name": "Create PKM Kalender",
      "method": "POST",
      "url": "/pkm-kalender",
      "description": "Create a new PKM kalender (validates only 1 active calendar) (Admin only)",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "request_body": {
        "tahun": {
          "type": "integer",
          "required": true,
          "description": "Year"
        },
        "pkm_ids": {
          "type": "array",
          "required": true,
          "description": "Array of PKM IDs",
          "items": {
            "type": "integer"
          }
        },
        "tanggal_mulai_pengajuan": {
          "type": "string",
          "format": "date",
          "required": true,
          "description": "Submission start date (YYYY-MM-DD)"
        },
        "tanggal_selesai_pengajuan": {
          "type": "string",
          "format": "date",
          "required": true,
          "description": "Submission end date (YYYY-MM-DD)"
        },
        "tanggal_mulai_penilaian": {
          "type": "string",
          "format": "date",
          "required": true,
          "description": "Assessment start date (YYYY-MM-DD)"
        },
        "tanggal_selesai_penilaian": {
          "type": "string",
          "format": "date",
          "required": true,
          "description": "Assessment end date (YYYY-MM-DD)"
        },
        "tanggal_pengumuman": {
          "type": "string",
          "format": "date",
          "required": true,
          "description": "Announcement date (YYYY-MM-DD)"
        },
        "is_active": {
          "type": "boolean",
          "required": false,
          "description": "Active status",
          "default": false
        }
      },
      "request_example": {
        "tahun": 2026,
        "pkm_ids": [1, 2, 3],
        "tanggal_mulai_pengajuan": "2026-03-01",
        "tanggal_selesai_pengajuan": "2026-04-30",
        "tanggal_mulai_penilaian": "2026-05-01",
        "tanggal_selesai_penilaian": "2026-06-15",
        "tanggal_pengumuman": "2026-06-30",
        "is_active": false
      },
      "responses": [
        {
          "status": 201,
          "description": "Kalender created successfully",
          "body": {
            "success": true,
            "message": "Kalender created successfully",
            "data": {
              "id": 1,
              "tahun": 2026,
              "tanggal_mulai_pengajuan": "2026-03-01",
              "tanggal_selesai_pengajuan": "2026-04-30",
              "tanggal_mulai_penilaian": "2026-05-01",
              "tanggal_selesai_penilaian": "2026-06-15",
              "tanggal_pengumuman": "2026-06-30",
              "is_active": true,
              "created_at": "2026-02-07T10:30:00+00:00",
              "updated_at": "2026-02-07T10:30:00+00:00"
            }
          }
        },
        {
          "status": 401,
          "description": "Unauthenticated",
          "body": {
            "success": false,
            "message": "Unauthenticated"
          }
        },
        {
          "status": 422,
          "description": "Validation error",
          "body": {
            "success": false,
            "message": "Validation failed",
            "errors": {}
          }
        }
      ]
    },
    {
      "name": "Get PKM Kalender Detail",
      "method": "GET",
      "url": "/pkm-kalender/{id}",
      "description": "Get detailed information of a specific kalender (Admin only)",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "path_params": {
        "id": {
          "type": "integer",
          "required": true,
          "description": "Kalender ID"
        }
      },
      "responses": [
        {
          "status": 200,
          "description": "Success",
          "body": {
            "success": true,
            "data": {
              "id": 1,
              "tahun": 2026,
              "tanggal_mulai_pengajuan": "2026-03-01",
              "tanggal_selesai_pengajuan": "2026-04-30",
              "tanggal_mulai_penilaian": "2026-05-01",
              "tanggal_selesai_penilaian": "2026-06-15",
              "tanggal_pengumuman": "2026-06-30",
              "is_active": true,
              "created_at": "2026-02-07T10:30:00+00:00",
              "updated_at": "2026-02-07T10:30:00+00:00"
            }
          }
        },
        {
          "status": 401,
          "description": "Unauthenticated",
          "body": {
            "success": false,
            "message": "Unauthenticated"
          }
        },
        {
          "status": 404,
          "description": "Kalender not found",
          "body": {
            "success": false,
            "message": "Kalender not found"
          }
        }
      ]
    },
    {
      "name": "Update PKM Kalender",
      "method": "PUT",
      "url": "/pkm-kalender/{id}",
      "description": "Update an existing kalender (Admin only)",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "path_params": {
        "id": {
          "type": "integer",
          "required": true,
          "description": "Kalender ID"
        }
      },
      "request_body": {
        "tahun": {
          "type": "integer",
          "required": false,
          "description": "Year"
        },
        "pkm_ids": {
          "type": "array",
          "required": false,
          "description": "Array of PKM IDs",
          "items": {
            "type": "integer"
          }
        },
        "tanggal_mulai_pengajuan": {
          "type": "string",
          "format": "date",
          "required": false,
          "description": "Submission start date (YYYY-MM-DD)"
        },
        "tanggal_selesai_pengajuan": {
          "type": "string",
          "format": "date",
          "required": false,
          "description": "Submission end date (YYYY-MM-DD)"
        },
        "tanggal_mulai_penilaian": {
          "type": "string",
          "format": "date",
          "required": false,
          "description": "Assessment start date (YYYY-MM-DD)"
        },
        "tanggal_selesai_penilaian": {
          "type": "string",
          "format": "date",
          "required": false,
          "description": "Assessment end date (YYYY-MM-DD)"
        },
        "tanggal_pengumuman": {
          "type": "string",
          "format": "date",
          "required": false,
          "description": "Announcement date (YYYY-MM-DD)"
        },
        "is_active": {
          "type": "boolean",
          "required": false,
          "description": "Active status"
        }
      },
      "request_example": {
        "tahun": 2026,
        "pkm_ids": [1, 2, 3],
        "tanggal_mulai_pengajuan": "2026-03-01",
        "tanggal_selesai_pengajuan": "2026-04-30",
        "tanggal_mulai_penilaian": "2026-05-01",
        "tanggal_selesai_penilaian": "2026-06-15",
        "tanggal_pengumuman": "2026-06-30",
        "is_active": false
      },
      "responses": [
        {
          "status": 200,
          "description": "Kalender updated successfully",
          "body": {
            "success": true,
            "message": "Kalender updated successfully",
            "data": {
              "id": 1,
              "tahun": 2026,
              "tanggal_mulai_pengajuan": "2026-03-01",
              "tanggal_selesai_pengajuan": "2026-04-30",
              "tanggal_mulai_penilaian": "2026-05-01",
              "tanggal_selesai_penilaian": "2026-06-15",
              "tanggal_pengumuman": "2026-06-30",
              "is_active": true,
              "created_at": "2026-02-07T10:30:00+00:00",
              "updated_at": "2026-02-07T10:30:00+00:00"
            }
          }
        },
        {
          "status": 401,
          "description": "Unauthenticated",
          "body": {
            "success": false,
            "message": "Unauthenticated"
          }
        },
        {
          "status": 404,
          "description": "Kalender not found",
          "body": {
            "success": false,
            "message": "Kalender not found"
          }
        },
        {
          "status": 422,
          "description": "Validation error",
          "body": {
            "success": false,
            "message": "Validation failed",
            "errors": {}
          }
        }
      ]
    },
    {
      "name": "Delete PKM Kalender",
      "method": "DELETE",
      "url": "/pkm-kalender/{id}",
      "description": "Soft delete a kalender (Admin only)",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "path_params": {
        "id": {
          "type": "integer",
          "required": true,
          "description": "Kalender ID"
        }
      },
      "responses": [
        {
          "status": 200,
          "description": "Kalender deleted successfully",
          "body": {
            "success": true,
            "message": "Kalender deleted successfully"
          }
        },
        {
          "status": 401,
          "description": "Unauthenticated",
          "body": {
            "success": false,
            "message": "Unauthenticated"
          }
        },
        {
          "status": 404,
          "description": "Kalender not found",
          "body": {
            "success": false,
            "message": "Kalender not found"
          }
        }
      ]
    },
    {
      "name": "Get Active Kalender",
      "method": "GET",
      "url": "/pkm-kalender/active/current",
      "description": "Returns the currently active kalender",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "responses": [
        {
          "status": 200,
          "description": "Success",
          "body": {
            "success": true,
            "data": {
              "id": 1,
              "tahun": 2026,
              "tanggal_mulai_pengajuan": "2026-03-01",
              "tanggal_selesai_pengajuan": "2026-04-30",
              "tanggal_mulai_penilaian": "2026-05-01",
              "tanggal_selesai_penilaian": "2026-06-15",
              "tanggal_pengumuman": "2026-06-30",
              "is_active": true,
              "created_at": "2026-02-07T10:30:00+00:00",
              "updated_at": "2026-02-07T10:30:00+00:00"
            }
          }
        },
        {
          "status": 401,
          "description": "Unauthenticated",
          "body": {
            "success": false,
            "message": "Unauthenticated"
          }
        },
        {
          "status": 404,
          "description": "No active kalender found",
          "body": {
            "success": false,
            "message": "No active kalender found"
          }
        }
      ]
    },
    {
      "name": "Activate Kalender",
      "method": "PATCH",
      "url": "/pkm-kalender/{id}/activate",
      "description": "Activate this kalender and deactivate all others (Admin only)",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "path_params": {
        "id": {
          "type": "integer",
          "required": true,
          "description": "Kalender ID"
        }
      },
      "responses": [
        {
          "status": 200,
          "description": "Kalender activated successfully",
          "body": {
            "success": true,
            "message": "Kalender activated successfully",
            "data": {
              "id": 1,
              "tahun": 2026,
              "tanggal_mulai_pengajuan": "2026-03-01",
              "tanggal_selesai_pengajuan": "2026-04-30",
              "tanggal_mulai_penilaian": "2026-05-01",
              "tanggal_selesai_penilaian": "2026-06-15",
              "tanggal_pengumuman": "2026-06-30",
              "is_active": true,
              "created_at": "2026-02-07T10:30:00+00:00",
              "updated_at": "2026-02-07T10:30:00+00:00"
            }
          }
        },
        {
          "status": 401,
          "description": "Unauthenticated",
          "body": {
            "success": false,
            "message": "Unauthenticated"
          }
        },
        {
          "status": 404,
          "description": "Kalender not found",
          "body": {
            "success": false,
            "message": "Kalender not found"
          }
        }
      ]
    },
    {
      "name": "Deactivate Kalender",
      "method": "PATCH",
      "url": "/pkm-kalender/{id}/deactivate",
      "description": "Deactivate this kalender (Admin only)",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "path_params": {
        "id": {
          "type": "integer",
          "required": true,
          "description": "Kalender ID"
        }
      },
      "responses": [
        {
          "status": 200,
          "description": "Kalender deactivated successfully",
          "body": {
            "success": true,
            "message": "Kalender deactivated successfully",
            "data": {
              "id": 1,
              "tahun": 2026,
              "tanggal_mulai_pengajuan": "2026-03-01",
              "tanggal_selesai_pengajuan": "2026-04-30",
              "tanggal_mulai_penilaian": "2026-05-01",
              "tanggal_selesai_penilaian": "2026-06-15",
              "tanggal_pengumuman": "2026-06-30",
              "is_active": false,
              "created_at": "2026-02-07T10:30:00+00:00",
              "updated_at": "2026-02-07T10:30:00+00:00"
            }
          }
        },
        {
          "status": 401,
          "description": "Unauthenticated",
          "body": {
            "success": false,
            "message": "Unauthenticated"
          }
        },
        {
          "status": 404,
          "description": "Kalender not found",
          "body": {
            "success": false,
            "message": "Kalender not found"
          }
        }
      ]
    }
  ],
  "models": {
    "PKMKalender": {
      "id": "integer - Unique identifier",
      "tahun": "integer - Year of the calendar",
      "tanggal_mulai_pengajuan": "date - Submission start date (YYYY-MM-DD)",
      "tanggal_selesai_pengajuan": "date - Submission end date (YYYY-MM-DD)",
      "tanggal_mulai_penilaian": "date - Assessment start date (YYYY-MM-DD)",
      "tanggal_selesai_penilaian": "date - Assessment end date (YYYY-MM-DD)",
      "tanggal_pengumuman": "date - Announcement date (YYYY-MM-DD)",
      "is_active": "boolean - Active status (only one can be active)",
      "created_at": "datetime - Creation timestamp",
      "updated_at": "datetime - Last update timestamp"
    }
  },
  "authentication_method": {
    "type": "Sanctum Tokens",
    "description": "Tokens are generated via /auth/login and must be included in Authorization header",
    "header_format": "Authorization: Bearer <token>",
    "token_endpoint": "/auth/login",
    "protected_endpoints": ["/pkm-kalender/*"],
    "token_type": "Stateless",
    "revocation": "Tokens are revoked on logout",
    "access_level": "Admin only"
  },
  "general_notes": {
    "base_url": "http://103.150.91.248:9001/api",
    "content_type": "application/json",
    "access_level": "All PKM Kalender endpoints are Admin only",
    "special_endpoints": {
      "/pkm-kalender/active/current": "Returns the currently active calendar",
      "/pkm-kalender/{id}/activate": "Activates this calendar and deactivates all others",
      "/pkm-kalender/{id}/deactivate": "Deactivates this calendar"
    },
    "validation_rules": {
      "active_calendar": "Only one calendar can be active at a time",
      "date_sequence": "End dates must be after start dates",
      "pkm_ids": "Array of PKM IDs that are included in this calendar"
    },
    "soft_delete": "Kalender entries are soft deleted and can be restored if needed",
    "error_handling": {
      "response_format": {
        "success": "boolean",
        "message": "human-readable message",
        "data": "response data (if applicable)",
        "meta": "pagination metadata",
        "errors": "validation details (if applicable)"
      }
    }
  }
}
