{
  "api_info": {
    "title": "Laravel API with Sanctum - User Management",
    "base_url": "http://103.150.91.248:9001/api",
    "authentication": "Sanctum Bearer Token",
    "content_type": "application/json"
  },
  "endpoints": [
    {
      "name": "List All Users",
      "method": "GET",
      "url": "/users",
      "description": "Get paginated list of users with search and filter capabilities",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "query_params": {
        "page": {
          "type": "integer",
          "required": false,
          "description": "Page number for pagination",
          "default": 1
        },
        "per_page": {
          "type": "integer",
          "required": false,
          "description": "Number of items per page",
          "default": 15
        },
        "search": {
          "type": "string",
          "required": false,
          "description": "Search term to filter users by name or email"
        },
        "role": {
          "type": "string",
          "required": false,
          "description": "Filter by role (e.g., admin, dosen, mahasiswa)"
        },
        "sort_by": {
          "type": "string",
          "required": false,
          "description": "Field to sort by",
          "default": "created_at"
        },
        "sort_order": {
          "type": "string",
          "required": false,
          "description": "Sort direction (asc or desc)",
          "default": "desc"
        }
      },
      "responses": [
        {
          "status": 200,
          "description": "OK - Users retrieved successfully",
          "headers": {
            "Content-Type": "application/json"
          },
          "body": {
            "success": true,
            "message": "Users retrieved successfully",
            "data": [
              {
                "id": 1,
                "name": "John Doe",
                "email": "john.doe@example.com",
                "role": "admin",
                "email_verified_at": "2023-10-01T12:00:00.000000Z",
                "created_at": "2023-10-01T12:00:00.000000Z",
                "updated_at": "2023-10-01T12:00:00.000000Z"
              }
            ],
            "pagination": {
              "current_page": 1,
              "per_page": 15,
              "total": 100,
              "last_page": 7
            }
          }
        },
        {
          "status": 401,
          "description": "Unauthorized - Unauthenticated",
          "body": {
            "success": false,
            "message": "Unauthenticated"
          }
        },
        {
          "status": 403,
          "description": "Forbidden - Insufficient permissions",
          "body": {
            "success": false,
            "message": "You do not have permission to access this resource"
          }
        }
      ]
    },
    {
      "name": "Create User",
      "method": "POST",
      "url": "/users",
      "description": "Create a new user",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "request_body": {
        "name": {
          "type": "string",
          "required": true,
          "description": "User's full name"
        },
        "email": {
          "type": "string",
          "required": true,
          "description": "User's email address (must be unique)"
        },
        "password": {
          "type": "string",
          "required": true,
          "min_length": 8,
          "description": "User's password (min 8 characters)"
        },
        "password_confirmation": {
          "type": "string",
          "required": true,
          "description": "Password confirmation (must match password)"
        },
        "role": {
          "type": "string",
          "required": false,
          "description": "User role (e.g., admin, dosen, mahasiswa)",
          "default": "mahasiswa"
        }
      },
      "request_example": {
        "name": "Jane Smith",
        "email": "jane.smith@example.com",
        "password": "password123",
        "password_confirmation": "password123",
        "role": "dosen"
      },
      "responses": [
        {
          "status": 201,
          "description": "Created - User created successfully",
          "body": {
            "success": true,
            "message": "User created successfully",
            "data": {
              "id": 2,
              "name": "Jane Smith",
              "email": "jane.smith@example.com",
              "role": "dosen",
              "email_verified_at": null,
              "created_at": "2023-10-01T12:00:00.000000Z",
              "updated_at": "2023-10-01T12:00:00.000000Z"
            }
          }
        },
        {
          "status": 422,
          "description": "Unprocessable Entity - Validation failed",
          "body": {
            "success": false,
            "message": "Validation failed",
            "errors": {
              "email": ["The email has already been taken."],
              "password": ["The password must be at least 8 characters."]
            }
          }
        }
      ]
    },
    {
      "name": "Get User by ID",
      "method": "GET",
      "url": "/users/{id}",
      "description": "Get a specific user by ID",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "path_params": {
        "id": {
          "type": "integer",
          "required": true,
          "description": "User ID"
        }
      },
      "responses": [
        {
          "status": 200,
          "description": "OK - User retrieved successfully",
          "body": {
            "success": true,
            "message": "User retrieved successfully",
            "data": {
              "id": 1,
              "name": "John Doe",
              "email": "john.doe@example.com",
              "role": "admin",
              "email_verified_at": "2023-10-01T12:00:00.000000Z",
              "created_at": "2023-10-01T12:00:00.000000Z",
              "updated_at": "2023-10-01T12:00:00.000000Z"
            }
          }
        },
        {
          "status": 404,
          "description": "Not Found - User not found",
          "body": {
            "success": false,
            "message": "User not found"
          }
        }
      ]
    },
    {
      "name": "Update User",
      "method": "PUT",
      "url": "/users/{id}",
      "description": "Update an existing user",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "path_params": {
        "id": {
          "type": "integer",
          "required": true,
          "description": "User ID"
        }
      },
      "request_body": {
        "name": {
          "type": "string",
          "required": false,
          "description": "User's full name"
        },
        "email": {
          "type": "string",
          "required": false,
          "description": "User's email address (must be unique)"
        },
        "password": {
          "type": "string",
          "required": false,
          "min_length": 8,
          "description": "User's password (min 8 characters)"
        },
        "password_confirmation": {
          "type": "string",
          "required": false,
          "description": "Password confirmation (required if password is provided)"
        },
        "role": {
          "type": "string",
          "required": false,
          "description": "User role (e.g., admin, dosen, mahasiswa)"
        }
      },
      "request_example": {
        "name": "John Updated",
        "email": "john.updated@example.com",
        "role": "admin"
      },
      "responses": [
        {
          "status": 200,
          "description": "OK - User updated successfully",
          "body": {
            "success": true,
            "message": "User updated successfully",
            "data": {
              "id": 1,
              "name": "John Updated",
              "email": "john.updated@example.com",
              "role": "admin",
              "email_verified_at": "2023-10-01T12:00:00.000000Z",
              "created_at": "2023-10-01T12:00:00.000000Z",
              "updated_at": "2023-10-01T12:30:00.000000Z"
            }
          }
        },
        {
          "status": 422,
          "description": "Unprocessable Entity - Validation failed",
          "body": {
            "success": false,
            "message": "Validation failed",
            "errors": {
              "email": ["The email has already been taken."]
            }
          }
        }
      ]
    },
    {
      "name": "Delete User",
      "method": "DELETE",
      "url": "/users/{id}",
      "description": "Soft delete a user",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "path_params": {
        "id": {
          "type": "integer",
          "required": true,
          "description": "User ID"
        }
      },
      "responses": [
        {
          "status": 200,
          "description": "OK - User deleted successfully",
          "body": {
            "success": true,
            "message": "User deleted successfully"
          }
        },
        {
          "status": 404,
          "description": "Not Found - User not found",
          "body": {
            "success": false,
            "message": "User not found"
          }
        }
      ]
    },
    {
      "name": "Get Deleted Users",
      "method": "GET",
      "url": "/users/trash",
      "description": "Get list of soft deleted users",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "query_params": {
        "page": {
          "type": "integer",
          "required": false,
          "description": "Page number for pagination",
          "default": 1
        },
        "per_page": {
          "type": "integer",
          "required": false,
          "description": "Number of items per page",
          "default": 15
        }
      },
      "responses": [
        {
          "status": 200,
          "description": "OK - Deleted users retrieved successfully",
          "body": {
            "success": true,
            "message": "Deleted users retrieved successfully",
            "data": [
              {
                "id": 5,
                "name": "Deleted User",
                "email": "deleted@example.com",
                "role": "mahasiswa",
                "deleted_at": "2023-10-01T12:00:00.000000Z",
                "created_at": "2023-09-01T12:00:00.000000Z",
                "updated_at": "2023-10-01T12:00:00.000000Z"
              }
            ],
            "pagination": {
              "current_page": 1,
              "per_page": 15,
              "total": 5,
              "last_page": 1
            }
          }
        }
      ]
    },
    {
      "name": "Restore Deleted User",
      "method": "PUT",
      "url": "/users/{id}/restore",
      "description": "Restore a soft deleted user",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "path_params": {
        "id": {
          "type": "integer",
          "required": true,
          "description": "User ID"
        }
      },
      "responses": [
        {
          "status": 200,
          "description": "OK - User restored successfully",
          "body": {
            "success": true,
            "message": "User restored successfully",
            "data": {
              "id": 5,
              "name": "Restored User",
              "email": "deleted@example.com",
              "role": "mahasiswa",
              "deleted_at": null,
              "created_at": "2023-09-01T12:00:00.000000Z",
              "updated_at": "2023-10-01T12:30:00.000000Z"
            }
          }
        },
        {
          "status": 404,
          "description": "Not Found - User not found in trash",
          "body": {
            "success": false,
            "message": "User not found in trash"
          }
        }
      ]
    },
    {
      "name": "Permanently Delete User",
      "method": "DELETE",
      "url": "/users/{id}/force-delete",
      "description": "Permanently delete a user (cannot be undone)",
      "authentication": true,
      "headers": {
        "Authorization": "Bearer <token>"
      },
      "path_params": {
        "id": {
          "type": "integer",
          "required": true,
          "description": "User ID"
        }
      },
      "responses": [
        {
          "status": 200,
          "description": "OK - User permanently deleted",
          "body": {
            "success": true,
            "message": "User permanently deleted"
          }
        },
        {
          "status": 404,
          "description": "Not Found - User not found in trash",
          "body": {
            "success": false,
            "message": "User not found in trash"
          }
        }
      ]
    }
  ],
  "models": {
    "User": {
      "id": "integer - Unique identifier",
      "name": "string - User's full name",
      "email": "string - User's email address (unique)",
      "role": "string - User role (admin, dosen, mahasiswa)",
      "email_verified_at": "datetime|null - Email verification timestamp",
      "deleted_at": "datetime|null - Soft delete timestamp",
      "created_at": "datetime - Creation timestamp",
      "updated_at": "datetime - Last update timestamp"
    }
  },
  "authentication_method": {
    "type": "Sanctum Tokens",
    "description": "Tokens are generated via /auth/login and must be included in Authorization header",
    "header_format": "Authorization: Bearer <token>",
    "token_endpoint": "/auth/login",
    "protected_endpoints": ["/users/*"],
    "token_type": "Stateless",
    "revocation": "Tokens are revoked on logout"
  },
  "general_notes": {
    "base_url": "http://103.150.91.248:9001/api",
    "content_type": "application/json",
    "soft_deletes": "Users are soft deleted by default. Use /users/trash to view deleted users",
    "pagination": "List endpoints support pagination with page and per_page parameters",
    "search": "Users can be searched by name or email using the search parameter",
    "filtering": "Users can be filtered by role using the role parameter",
    "sorting": "Results can be sorted by any field using sort_by and sort_order parameters",
    "error_handling": {
      "response_format": {
        "success": "boolean",
        "message": "human-readable message",
        "errors": "validation details (if applicable)",
        "data": "response data (if applicable)"
      }
    }
  }
}
